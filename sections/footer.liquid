{% comment %}
  Footer Section
  Site footer with links and social media
{% endcomment %}

<footer class="bg-brand-black py-16" style="background: {{ section.settings.background_color }};">
  <div class="container mx-auto px-6">
    <div class="flex flex-col md:flex-row justify-between items-center mb-12">
      
      <div class="mb-8 md:mb-0 text-center md:text-left">
        <h2 class="font-display text-4xl text-white uppercase tracking-wide mb-2">
          {{ section.settings.footer_heading | default: shop.name }}
        </h2>
        {% if section.settings.footer_description != blank %}
          <p class="text-neutral-500 text-sm max-w-xs">
            {{ section.settings.footer_description }}
          </p>
        {% endif %}
      </div>

      {% if section.settings.show_social %}
        <div class="flex gap-6">
          {% if section.settings.social_instagram != blank %}
            <a 
              href="{{ section.settings.social_instagram }}" 
              target="_blank" 
              rel="noopener noreferrer"
              class="text-neutral-400 hover:text-brand-red transition-colors"
              aria-label="Instagram"
            >
              {% render 'icon-instagram' %}
            </a>
          {% endif %}

          {% if section.settings.social_facebook != blank %}
            <a 
              href="{{ section.settings.social_facebook }}" 
              target="_blank" 
              rel="noopener noreferrer"
              class="text-neutral-400 hover:text-brand-red transition-colors"
              aria-label="Facebook"
            >
              {% render 'icon-facebook' %}
            </a>
          {% endif %}

          {% if section.settings.social_twitter != blank %}
            <a 
              href="{{ section.settings.social_twitter }}" 
              target="_blank" 
              rel="noopener noreferrer"
              class="text-neutral-400 hover:text-brand-red transition-colors"
              aria-label="Twitter"
            >
              {% render 'icon-twitter' %}
            </a>
          {% endif %}

          {% if section.settings.social_youtube != blank %}
            <a 
              href="{{ section.settings.social_youtube }}" 
              target="_blank" 
              rel="noopener noreferrer"
              class="text-neutral-400 hover:text-brand-red transition-colors"
              aria-label="YouTube"
            >
              {% render 'icon-youtube' %}
            </a>
          {% endif %}
        </div>
      {% endif %}
    </div>

    {% if section.blocks.size > 0 %}
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'link_list' %}
              <div {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h3 class="font-display text-lg text-white uppercase mb-4">
                    {{ block.settings.heading }}
                  </h3>
                {% endif %}
                
                {% if block.settings.menu != blank %}
                  <ul class="space-y-2">
                    {% for link in block.settings.menu.links %}
                      <li>
                        <a 
                          href="{{ link.url }}" 
                          class="text-neutral-400 hover:text-white transition-colors text-sm"
                        >
                          {{ link.title }}
                        </a>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </div>

            {% when 'text' %}
              <div {{ block.shopify_attributes }}>
                {% if block.settings.heading != blank %}
                  <h3 class="font-display text-lg text-white uppercase mb-4">
                    {{ block.settings.heading }}
                  </h3>
                {% endif %}
                
                {% if block.settings.content != blank %}
                  <div class="text-neutral-400 text-sm">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    {% endif %}
    
    <div class="border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center text-neutral-600 text-xs uppercase tracking-widest">
      <p>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. {{ section.settings.copyright_text | default: 'All Rights Reserved' }}.</p>
      
      {% if section.settings.footer_menu != blank %}
        <div class="flex gap-6 mt-4 md:mt-0">
          {% for link in section.settings.footer_menu.links %}
            <a href="{{ link.url }}" class="hover:text-white transition-colors">
              {{ link.title }}
            </a>
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#050505"
    },
    {
      "type": "text",
      "id": "footer_heading",
      "label": "Footer Heading",
      "default": "Rich Habits"
    },
    {
      "type": "textarea",
      "id": "footer_description",
      "label": "Footer Description",
      "default": "Elevating the sport through design, performance, and community."
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show Social Media Icons",
      "default": true
    },
    {
      "type": "url",
      "id": "social_instagram",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "social_facebook",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "social_twitter",
      "label": "Twitter/X URL"
    },
    {
      "type": "url",
      "id": "social_youtube",
      "label": "YouTube URL"
    },
    {
      "type": "header",
      "content": "Footer Menu"
    },
    {
      "type": "link_list",
      "id": "footer_menu",
      "label": "Footer Menu",
      "info": "Links shown at bottom (Privacy, Terms, etc.)"
    },
    {
      "type": "text",
      "id": "copyright_text",
      "label": "Copyright Text",
      "default": "All Rights Reserved"
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "Link List",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text Block",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        }
      ]
    }
  ],
  "max_blocks": 4,
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        {
          "type": "link_list",
          "settings": {
            "heading": "Shop"
          }
        },
        {
          "type": "link_list",
          "settings": {
            "heading": "Support"
          }
        }
      ]
    }
  ]
}
{% endschema %}
